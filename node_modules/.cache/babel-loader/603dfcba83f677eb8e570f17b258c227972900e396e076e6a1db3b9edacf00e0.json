{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/home/malshani/Documents/My react projects/teaching-institution-management-system_frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/home/malshani/Documents/My react projects/teaching-institution-management-system_frontend/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nimport { Try } from \"@mui/icons-material\";\nimport axios from \"axios\";\nvar _BaseUrl = /*#__PURE__*/_classPrivateFieldLooseKey(\"BaseUrl\");\nclass Repository {\n  constructor() {\n    this.jwt = \"\";\n    Object.defineProperty(this, _BaseUrl, {\n      writable: true,\n      value: \"\"\n    });\n    this.instance = undefined;\n    _classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl] = \"http://localhost:8095/api\";\n    this.jwt = localStorage.getItem('jwt');\n    this.instance = axios.create({\n      headers: {\n        \"auth-token\": `Bearer ${this.jwt}`\n      }\n    });\n  }\n  async signupUser(user) {\n    try {\n      const res = await this.instance.post(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/v1/signup`, user);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async loginUser(user) {\n    return axios.post(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/login/user`, user).then(res => {\n      return res.data;\n    }).catch(err => {\n      throw err;\n    });\n\n    // try {\n    //   const res = await this.instance.post(`${this.#BaseUrl}/login/user`, user);\n    //   return await res.data;\n    // } catch (err) {\n    //   throw err;\n    // }\n  }\n\n  async showAllCourses() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/user/courses`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getStuentProfile(currentUser) {\n    return axios.g(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/student/profile/${currentUser}`).then(res => {\n      return res.data;\n    }).catch(err => {\n      throw err;\n    });\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/student/profile/${currentUser}`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getTeacherProfile(currentUser) {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/teacher/profile/${currentUser}`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getAllStudents() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allStudents`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getAllTeachers() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allTeachers`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getAllUsers() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allUsers`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getStudentsCount() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allStudents`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getTeachersCount() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allTeachers`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getTotalCount() {\n    const studentsCount = await this.getStudentsCount();\n    const teachersCount = await this.getTeachersCount();\n    return studentsCount + teachersCount;\n  }\n  async getTotalCourses() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allCourses`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async getAllCourses() {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/managementTeam/allCourses`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async logoutUser() {\n    try {\n      localStorage.setItem(\"jwt\", \"\");\n      localStorage.setItem(\"userRole\", \"\");\n      localStorage.setItem(\"currentUser\", \"\");\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/logout/user`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async enrollToCourse(request) {\n    try {\n      const res = await this.instance.post(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/student/enroll/course`, request);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n  async enrolledCourses(currentUser) {\n    try {\n      const res = await this.instance.get(`${_classPrivateFieldLooseBase(this, _BaseUrl)[_BaseUrl]}/enrolled/courses/${currentUser}`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n}\nexport default new Repository();","map":{"version":3,"names":["Try","axios","Repository","constructor","jwt","instance","undefined","localStorage","getItem","create","headers","signupUser","user","res","post","data","err","loginUser","then","catch","showAllCourses","get","getStuentProfile","currentUser","g","getTeacherProfile","getAllStudents","getAllTeachers","getAllUsers","getStudentsCount","length","getTeachersCount","getTotalCount","studentsCount","teachersCount","getTotalCourses","getAllCourses","logoutUser","setItem","enrollToCourse","request","enrolledCourses"],"sources":["/home/malshani/Documents/My react projects/teaching-institution-management-system_frontend/src/services/Repository.js"],"sourcesContent":["import { Try } from \"@mui/icons-material\";\nimport axios from \"axios\";\n\n\nclass Repository {\n\n\n  jwt = \"\";\n\n  #BaseUrl = \"\";\n\n  instance = undefined;\n\n  constructor() {\n    this.#BaseUrl = \"http://localhost:8095/api\";\n    this.jwt = localStorage.getItem('jwt');\n\n\n    this.instance = axios.create({\n      headers: {\n        \"auth-token\": `Bearer ${this.jwt}`\n      }\n    });\n  }\n\n\n  async signupUser(user) {\n    try {\n      const res = await this.instance.post(`${this.#BaseUrl}/v1/signup`, user);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n\n  async loginUser(user) {\n    return axios.post(`${this.#BaseUrl}/login/user`, user).then(res => {\n      return res.data;\n    }).catch(err => {\n      throw err;\n    });\n\n    // try {\n    //   const res = await this.instance.post(`${this.#BaseUrl}/login/user`, user);\n    //   return await res.data;\n    // } catch (err) {\n    //   throw err;\n    // }\n  }\n\n  async showAllCourses() {\n\n    try {\n\n      const res = await this.instance.get(`${this.#BaseUrl}/user/courses`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async getStuentProfile(currentUser) {\n    return axios.g(`${this.#BaseUrl}/student/profile/${currentUser}`).then(res => {\n      return res.data;\n    }).catch(err => {\n      throw err;\n    });\n\n    try {\n\n      const res = await this.instance.get(`${this.#BaseUrl}/student/profile/${currentUser}`);\n      return res.data;\n    } catch (err) {\n      throw err;\n\n    }\n\n  }\n\n  async getTeacherProfile(currentUser) {\n\n    try {\n\n      const res = await this.instance.get(`${this.#BaseUrl}/teacher/profile/${currentUser}`);\n      return res.data;\n    } catch (err) {\n      throw err;\n\n    }\n\n  }\n\n  async getAllStudents() {\n\n    try {\n\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allStudents`);\n      return res.data;\n    } catch (err) {\n      throw err;\n\n    }\n\n  }\n\n  async getAllTeachers() {\n\n    try {\n\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allTeachers`);\n      return res.data;\n    } catch (err) {\n      throw err;\n\n    }\n  }\n\n  async getAllUsers(){\n    try {\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allUsers`);\n      return res.data;\n    }catch (err) {\n      throw err;\n    }\n  }\n\n  async getStudentsCount() {\n    try {\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allStudents`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async getTeachersCount() {\n    try {\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allTeachers`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async getTotalCount() {\n    const studentsCount = await this.getStudentsCount();\n    const teachersCount = await this.getTeachersCount();\n    return studentsCount + teachersCount;\n  }\n\n  async getTotalCourses() {\n    try {\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allCourses`);\n      return res.data.length;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async getAllCourses() {\n    try {\n      const res = await this.instance.get(`${this.#BaseUrl}/managementTeam/allCourses`);\n      return res.data;\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  async logoutUser() {\n    try{\n   \n      localStorage.setItem(\"jwt\", \"\");\n      localStorage.setItem(\"userRole\", \"\");\n      localStorage.setItem(\"currentUser\", \"\");\n      const res = await this.instance.get(`${this.#BaseUrl}/logout/user`);\n      return res.data;\n\n    }catch(err) {\n      throw err;\n    }\n  }\n\n  async enrollToCourse(request) {\n    try{\n        const res = await this.instance.post(`${this.#BaseUrl}/student/enroll/course`, request);\n        return res.data;\n    } catch (err) {\n        throw err;\n    }\n}\n\nasync enrolledCourses(currentUser) {\n  try{\n      const res = await this.instance.get(`${this.#BaseUrl}/enrolled/courses/${currentUser}`);\n      return res.data;\n  } catch (err) {\n      throw err;\n  }\n}\n\n}\n\nexport default new Repository;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}